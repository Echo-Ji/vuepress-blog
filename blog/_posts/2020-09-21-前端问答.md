---
title:          前端问答
date:           2020-09-21
author:         Echo
location:       Beijing 
tags: 
    - 前端
    - 面试
    - JS
---

## Q1：在JavaScript 中，null 与 undefined 的异同点是什么呢？

他们都是原始类型。

* undefined：是所有未赋值变量的默认值，自动赋值。
* null：主动释放一个变量引用的对象，表示一个变量不再指向任何对象地址。

当使用完一个比较大的对象时，用 null 对其进行内存释放 `foo = null`。

```Javascript
var person = null;          // 值为 null(空), 但类型为对象
var person;                 // 值为 undefined，类型为 undefined
person = undefined;         // 值为 undefined，类型为 undefined
```
null 和 undefined 的值相等，但类型不等。

```Javascript
typeof undefined             // undefined
typeof null                  // object
null === undefined           // false
null == undefined            // true
```

## Q2：状态码301和302的区别。

都是重定向，但是
* 301 永久性转移，搜索引擎在抓取新内容的同时也将旧的网址替换为重定向之后的网址。
* 302 临时性转移，搜索引擎会抓取新的内容而保留旧的网址。

<!-- ## Q3：强缓存引起问题的解决方案（如何更新网站资源）。

强缓存是导致服务器资源更新后，客户端得到的资源依旧是缓存中旧版的东西。
要解决这个问题
大公司的静态资源优化方案：
* 配置超长时间的本地缓存 —— 节省带宽，提高性能
* 采用内容摘要作为缓存更新依据 —— 精确的缓存控制
* 静态资源 CDN 部署 —— 优化网络请求
* 更新资源发布路径实现非覆盖式发布 —— 平滑升级 -->

## Q3: require 模块加载顺序。

* 优先加载内置模块，即使有同名手写模块。
* 去缓存寻找模块。
* 缓存没有就去找对应路径的文件。
* 不存在相应文件，就把该路径当作文件夹加载。
* 文件夹也没有就去 `node_modules` 下面找。
* 还没有就报错。

:warning: 加载文件夹也有顺序：
* 先看文件夹下有没有 `package.json`，有的话就找里面的 `main` 字段对应的文件。
* 如果没有 `package.json` 文件或者该文件里没有 `main` 字段就找 `index.js`。
* 否则返回（报错）。

在运行 `require` 和 `module.exports` 之前会先有一个空对象 `{}`（其实就是缓存），然后每 require 一个文件，会先运行目标文件，然后按照 `'文件名': 'module.exports'` 的键值对插入到全局的对象（缓存）中去，用的时候拿出来就好。

## Q4：JS 如何写面向对象。

函数作为类使用，也是构造函数。

用类的 `portotype` 来添加类方法。若要定义静态方法，则直接将它作为类函数的属性即可。

类的实例用 `__porto__` 查找类方法。其实原型的 `__porto__` 指向了父类的 `portotype`。

```JavaScript
// 函数作为类使用，也是构造函数。
function Puppy(age) {
    this.puppyAge = age; // this 总是指向实例对象，这里指向 myPuppy
}
// 添加类方法。
Puppy.portotype.say = function() {
    console.log('bark');
}
// 添加静态方法
Puppy.Puppy.staticFunc = function(){}
// new 一个对象相当于创建子类原型
const myPuppy = new Puppy(2);
console.log(myPuppy.__porto__ === Puppy.portotype) // true
```
参考 [1](https://juejin.im/post/6844904069887164423)。